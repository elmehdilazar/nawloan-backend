{"version":3,"sources":["app.js"],"names":["require","_laravelEcho","_interopRequireDefault","_socket","window","io","Socket","Echo","broadcaster","host","location","hostname","usersLength","channel","listen","e","Audio","play","message","room_id","$","text","animate","scrollTop","scrollHeight","msg","user","type","append","name","body","concat","addClass"],"mappings":"aAAAA,QAAA,eACA,IAAAC,aAAAC,uBAAAF,QAAA,iBADAG,QAAAD,uBAAAF,QAAA,6FAGAI,OAAOC,GAAGC,QAAAA,QAFVF,OAAAG,KAAA,IAAAA,aAAAA,QAAA,CAIIC,YAAY,YAHhBC,KAAAL,OAAAM,SAAAC,SAAA,UAsBI,IAAIC,YAAY,EA0CpBR,OAAOG,KAAKM,QAAZ,yBAA6CC,OAAO,QAAS,SAACC,GAE5C,IAAIC,MADR,wCAEJC,OACFF,EAAEG,QAAQC,SAAWC,EAAE,YAAYC,QACnCD,EAAE,SAASE,QACP,CACIC,UAAWH,EAAE,SAAS,GAAGI,cAE7B,QARE,SAAHC,IAAGC,KAAAC,MAAV,OAAUF,IAAAC,KAAAC,MAAV,sBAAAF,IAAAC,KAAAC,KAEMV,EAAAA,SAANW,OAAMX,+MAAAA,OAGEQ,IAAAC,KAAAG,KAHFZ,kGAAAA,OAEFQ,IAAAK,KAFEb,uDAoBAG,EAAA,SAASQ,OAAT,qKAAAG,OAULhB,EAAAG,QAAAY,KAVK,gEASFV,EAAC,aAAAW,OAAchB,EAAEG,QAAQC,UAAWa,SAAS","file":"app.min.js","sourcesContent":["import './bootstrap';\nimport Echo from \"laravel-echo\";\nimport Socket from 'socket.io-client' ;\nwindow.io=Socket;//from 'socket.io-client' ;\nwindow.Echo=new Echo({\n    broadcaster:'socket.io',\n     host:window.location.hostname + ':6001'\n   // host: 'http://localhost:6001'\n});\n/* Echo.join(`chat`)\n    .here((users) => {\n        users.forEach(function(user){\n            $('#online-users').append(`<li class=\"list-group-iten\">${user.name}</li>`);\n        })\n        console.log(users);\n    }).joining((user)=>{\n        console.log(user);\n    }).leaving((user)=>{\n        console.log(user);\n    })\n    .error((error) => {\n        console.error(error);\n    });\n */\n    let usersLength=0;\n/* window.Echo.join(`chat`)\n    .here((users) => {\n        console.log(users);\n        let userId = $(\"meta[name=user-id]\").attr(\"content\");\n        usersLength = users.lenght;\n        if (usersLength > 1) {\n            $(\"#no-online\").css(\"display\", \"none\");\n            $(\"#online\").css(\"display\", \"block\");\n        }\n        users.forEach(function (user) {\n            if (user.id == userId) {\n                return;\n            }\n            $(\"#online-users\").append(\n                `<li class=\"list-group-item\" id=\"user-${user.id}\"><div class=\"d-flex justify-content-betweeen\">${user.name}<span class=\"icon icon-circle text-success mx-2\">online</span></div></li>`\n            );\n        });\n    })\n    .joining((user) => {\n        usersLength++;\n        if (usersLength > 1) {\n            $(\"#no-online\").css(\"display\", \"none\");\n            $(\"#online\").css(\"display\", \"block\");\n        }\n        $(\"#online-users\").append(\n            `<li class=\"list-group-item\"><div class=\"d-flex justify-content-betweeen\">${user.name}<span class=\"icon icon-circle text-success mx-2\">online</span></div></li>`\n        );\n    })\n    .leaving((user) => {\n        usersLength--;\n        if (usersLength == 1) {\n            $(\"#online\").css(\"display\", \"block\");\n            $(\"#online\").css(\"display\", \"none\");\n        }\n        $(\"#user-\" + user.id).remove();\n    })\n    .error((error) => {\n        console.error(error);\n    });\n`+$('#room_id').val()\n */\nwindow.Echo.channel(`laravel_database_chat`).listen(\".chat\", (e) => {\n    let src = \"http://localhost:8000/audio/beep.mp3\";\n    const audio = new Audio(src);\n    audio.play();\n    if (e.message.room_id == $(\"#room_id\").text()) {\n        $(\"#chat\").animate(\n            {\n                scrollTop: $(\"#chat\")[0].scrollHeight,\n            },\n            \"slow\"\n        );\n        if(msg.user.type == \"admin\" || msg.user.type =='emp' || msg.user.type ==\"superadministrator\")\n       {\n         $('#chat').append(`\n        <div class=\"mt-2  text-white p-0 rounded msg-admins\" style=\"display:grid\">\n            <span class=\"px-3 pt-1\"\n            style=\"text-align-last:start;width: 100%;color:#001a4e !important;\"> ${msg.user.name}</span>\n        <p class=\"px-3 pb-1\"\n            style=\"text-align-last:start;width: 100%;\">${msg.body}</p>\n    </div>\n    <div class=\"clearfix\"></div>`);\n       }\n       else{\n        $(\"#chat\").append(\n            `<div class=\"mt-2 text-white p-0 rounded float-left msg-receive\"\n            >\n            <p class=\"p-2 mb-0\"\n        style=\"text-align-last:end;width: 100%;\">${e.message.body}</p>\n        </div>\n        <div class=\"clearfix\"></div>`\n        );}\n    } else {\n        $(`room-bell-${e.message.room_id}`).addClass(\"text-success\");\n    }\n});\n// window.Echo.channel(`laravel_database_online`).listen(\".examplee\", (e) => {\n//     console.log(e);\n// });\n"]}