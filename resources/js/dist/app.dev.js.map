{"version":3,"sources":["app.js"],"names":["window","io","Socket","Echo","broadcaster","host","location","hostname","usersLength","channel","listen","e","src","audio","Audio","play","message","room_id","$","text","animate","scrollTop","scrollHeight","msg","user","type","append","name","body","addClass"],"mappings":";;AAAA;;AACA;;AACA;;;;AACAA,MAAM,CAACC,EAAP,GAAUC,kBAAV,C,CAAiB;;AACjBF,MAAM,CAACG,IAAP,GAAY,IAAIA,uBAAJ,CAAS;AACjBC,EAAAA,WAAW,EAAC,WADK;AAEhBC,EAAAA,IAAI,EAACL,MAAM,CAACM,QAAP,CAAgBC,QAAhB,GAA2B,OAFhB,CAGlB;;AAHkB,CAAT,CAAZ;AAKA;;;;;;;;;;;;;;;;AAeI,IAAIC,WAAW,GAAC,CAAhB;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCAR,MAAM,CAACG,IAAP,CAAYM,OAAZ,0BAA6CC,MAA7C,CAAoD,OAApD,EAA6D,UAACC,CAAD,EAAO;AAChE,MAAIC,GAAG,GAAG,sCAAV;AACA,MAAMC,KAAK,GAAG,IAAIC,KAAJ,CAAUF,GAAV,CAAd;AACAC,EAAAA,KAAK,CAACE,IAAN;;AACA,MAAIJ,CAAC,CAACK,OAAF,CAAUC,OAAV,IAAqBC,CAAC,CAAC,UAAD,CAAD,CAAcC,IAAd,EAAzB,EAA+C;AAC3CD,IAAAA,CAAC,CAAC,OAAD,CAAD,CAAWE,OAAX,CACI;AACIC,MAAAA,SAAS,EAAEH,CAAC,CAAC,OAAD,CAAD,CAAW,CAAX,EAAcI;AAD7B,KADJ,EAII,MAJJ;;AAMA,QAAGC,GAAG,CAACC,IAAJ,CAASC,IAAT,IAAiB,OAAjB,IAA4BF,GAAG,CAACC,IAAJ,CAASC,IAAT,IAAgB,KAA5C,IAAqDF,GAAG,CAACC,IAAJ,CAASC,IAAT,IAAgB,oBAAxE,EACD;AACEP,MAAAA,CAAC,CAAC,OAAD,CAAD,CAAWQ,MAAX,+NAG0EH,GAAG,CAACC,IAAJ,CAASG,IAHnF,+GAKgDJ,GAAG,CAACK,IALpD;AAQD,KAVA,MAWG;AACHV,MAAAA,CAAC,CAAC,OAAD,CAAD,CAAWQ,MAAX,mLAI2Cf,CAAC,CAACK,OAAF,CAAUY,IAJrD;AAOG;AACN,GA3BD,MA2BO;AACHV,IAAAA,CAAC,qBAAcP,CAAC,CAACK,OAAF,CAAUC,OAAxB,EAAD,CAAoCY,QAApC,CAA6C,cAA7C;AACH;AACJ,CAlCD,E,CAmCA;AACA;AACA","sourcesContent":["import './bootstrap';\nimport Echo from \"laravel-echo\";\nimport Socket from 'socket.io-client' ;\nwindow.io=Socket;//from 'socket.io-client' ;\nwindow.Echo=new Echo({\n    broadcaster:'socket.io',\n     host:window.location.hostname + ':6001'\n   // host: 'http://localhost:6001'\n});\n/* Echo.join(`chat`)\n    .here((users) => {\n        users.forEach(function(user){\n            $('#online-users').append(`<li class=\"list-group-iten\">${user.name}</li>`);\n        })\n        console.log(users);\n    }).joining((user)=>{\n        console.log(user);\n    }).leaving((user)=>{\n        console.log(user);\n    })\n    .error((error) => {\n        console.error(error);\n    });\n */\n    let usersLength=0;\n/* window.Echo.join(`chat`)\n    .here((users) => {\n        console.log(users);\n        let userId = $(\"meta[name=user-id]\").attr(\"content\");\n        usersLength = users.lenght;\n        if (usersLength > 1) {\n            $(\"#no-online\").css(\"display\", \"none\");\n            $(\"#online\").css(\"display\", \"block\");\n        }\n        users.forEach(function (user) {\n            if (user.id == userId) {\n                return;\n            }\n            $(\"#online-users\").append(\n                `<li class=\"list-group-item\" id=\"user-${user.id}\"><div class=\"d-flex justify-content-betweeen\">${user.name}<span class=\"icon icon-circle text-success mx-2\">online</span></div></li>`\n            );\n        });\n    })\n    .joining((user) => {\n        usersLength++;\n        if (usersLength > 1) {\n            $(\"#no-online\").css(\"display\", \"none\");\n            $(\"#online\").css(\"display\", \"block\");\n        }\n        $(\"#online-users\").append(\n            `<li class=\"list-group-item\"><div class=\"d-flex justify-content-betweeen\">${user.name}<span class=\"icon icon-circle text-success mx-2\">online</span></div></li>`\n        );\n    })\n    .leaving((user) => {\n        usersLength--;\n        if (usersLength == 1) {\n            $(\"#online\").css(\"display\", \"block\");\n            $(\"#online\").css(\"display\", \"none\");\n        }\n        $(\"#user-\" + user.id).remove();\n    })\n    .error((error) => {\n        console.error(error);\n    });\n`+$('#room_id').val()\n */\nwindow.Echo.channel(`laravel_database_chat`).listen(\".chat\", (e) => {\n    let src = \"http://localhost:8000/audio/beep.mp3\";\n    const audio = new Audio(src);\n    audio.play();\n    if (e.message.room_id == $(\"#room_id\").text()) {\n        $(\"#chat\").animate(\n            {\n                scrollTop: $(\"#chat\")[0].scrollHeight,\n            },\n            \"slow\"\n        );\n        if(msg.user.type == \"admin\" || msg.user.type =='emp' || msg.user.type ==\"superadministrator\")\n       {\n         $('#chat').append(`\n        <div class=\"mt-2  text-white p-0 rounded msg-admins\" style=\"display:grid\">\n            <span class=\"px-3 pt-1\"\n            style=\"text-align-last:start;width: 100%;color:#001a4e !important;\"> ${msg.user.name}</span>\n        <p class=\"px-3 pb-1\"\n            style=\"text-align-last:start;width: 100%;\">${msg.body}</p>\n    </div>\n    <div class=\"clearfix\"></div>`);\n       }\n       else{\n        $(\"#chat\").append(\n            `<div class=\"mt-2 text-white p-0 rounded float-left msg-receive\"\n            >\n            <p class=\"p-2 mb-0\"\n        style=\"text-align-last:end;width: 100%;\">${e.message.body}</p>\n        </div>\n        <div class=\"clearfix\"></div>`\n        );}\n    } else {\n        $(`room-bell-${e.message.room_id}`).addClass(\"text-success\");\n    }\n});\n// window.Echo.channel(`laravel_database_online`).listen(\".examplee\", (e) => {\n//     console.log(e);\n// });\n"],"file":"app.dev.js"}